# 의존과 의존성

어떤 객체가 동작하기 위해 다른 객체를 필요로 할 때 두 객체 사이에 의존 관계가 형성.

이를 ‘의존한다’ 또는 ‘의존성을 갖는다’라고 표현한다.

## 의존성 주입

객체 의존관계를 외부에서 넣어주는 것을 DI (Dependency Injection), 의존성 주입이라 한다.

스프링에서는 3가지 방법의 의존성 주입방법이 있다.

### 1. 생성자 주입 (@Autowired 의존성 주입)

생성자에 @Autowired 가 있으면 스프링이 연관된 객체를 스프링 컨테이너에서 찾아서 넣어준다.
Spring 4.3이후, **클래스 내 생성자가 하나이고, 그 생성자로 주입받을 객체가 빈으로 등록되어 있다면 @Autowired 생략 가능.**
생성자 주입은 인스턴스 생성시 1회 호출되는 것이 보장된다. 따라서 주입받은 객체가 변하지 않거나, 반드시 객체주입이 필요한 경우 강제하기 위해 사용

### 2. 필드 주입

코드가 간결하고 편하지만 의존관계를 정확히 파악하기 힘들다.
필드 주입 시 final 키워드를 선언할 수 없어 객체가 변할 수 있다.
주입이 동시에 일어나 겹치는 경우 순환참조 에러 발생

### 3. 수정자(Setter) 주입

setter 혹은 사용자정의 메서드를 통해 의존관계 주입.
setter의 경우 객체가 변경될 필요성이 있을 때만 사용

# DIP

DIP는 의존성 역전 원칙을 뜻한다. 

의존성 역전의 원칙(Dependency Inversion Principle) 이란 어떤 Class를 참조해야하는 상황이 생긴다면, 그 Class를 직접 참조하는 것이 아니라 적절한 인터페이스를 만들고 **해당 인터페이스를 상위 클레스를 기준으로 참조되도록 구현하는 것**

## 스프링 빈과 스프링 컨테이너

자바 객체를 스프링에선 빈(Bean)이라고 한다.

스프링은 보통의 경우 스프링 컨테이너에 빈 인스턴스를 단 한개만 저장하는 싱글톤 방식을 채택하고 있다. 예상치 못한 여러 오류가 발생하는데, 이를 개발 중 발견하기 매우 어렵기 때문에 **빈 이름은 항상 다르게 지정이 되어야 한다.**

스프링 컨테이너는 스프링에서 자바 객체들을 관리하는 공간을 말한다. 

스프링 컨테이너에서는 빈의 생성부터 소멸까지를 개발자 대신 관리해주는 곳.

## 스프링 빈 등록 방법

### 1. 컴포넌트 스캔과 자동 의존관계 설정

`@Component`Annotation을 통해 가능한데, 이 외에도 스프링 프레임워크에서 제공하는 `@Controller`
나 `@Service`혹은 `@Repository`와 같은 Annotation은 인터페이스로 `@Component`
 Annotation을 받기 때문에 컴포넌트 등록이 가능.

### 2. 자바 코드로 직접 스프링 빈 등록하기

스프링 빈을 직접 등록하는 것은 `@Configuration`과 `@Bean`Annotation으로 가능

# JDBC & JPA

## JDBC

JDBC(Java Database Connectivity)는 자바에서 데이터베이스에 접속할 수 있도록 하는 자바 API. JDBC는 데이터베이스에서 자료를 쿼리하거나 업데이트하는 방법을 제공한다. 응용프로그램과 DBMS간의 통신을 번역해주는 역할을 수행

## JPA

JPA는 자바 진영에서 ORM(Object-Relational Mapping) 기술 표준으로 사용되는 인터페이스의 모음. 즉, 실제적으로 구현된것이 아니라 구현된 클래스와 매핑을 해주기 위해 사용되는 프레임워크

JPA는 기존의 반복 코드는 물론이고, 기본적인 SQL도 JPA가 직접 만들어서 실행해준다.
JPA를 사용하면, SQL과 데이터 중심의 설계에서 객체 중심의 설계로 패러다임을 전환을 할 수 있다.
JPA를 사용하면 개발 생산성을 크게 높일 수 있다.

**ORM이란?

우리가 일반 적으로 알고 있는 애플리케이션 Class와 RDB(Relational DataBase)의 테이블을 매핑(연결)한다는 뜻이며, 기술적으로는 어플리케이션의 객체를 RDB 테이블에 자동으로 영속화 해주는 것이라고 보면된다.